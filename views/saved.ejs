<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Magnesium</title>
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <script src="https://code.jquery.com/jquery-3.1.1.min.js" type="text/javascript"></script>
  <script src="/js/script.js" type="text/javascript" async defer></script>
</head>

<body>
<div class="container">
        <h3><%= save.length %> Favorites</h3>
        <ul class="favorites">
          <%# Saved images will be displayed here%>
          <% for( let i = 0; i < images.length; i++){%>
            <li class="image-item">
              <div class="image-container">
                <img class="image" src="<%= favorites[i].Poster %>">
                <h4><%= favorites[i].Title %></h4>
                <form class="delete-favorite" action="/favorites/<%= favorites[i]._id %>?_method=DELETE" method="post">
                  <input type="submit" value="Delete">
                </form>
              </div>
            </li>
          <% }; %>
        </ul>
      </div>

</body>
</html>


<div class="random">
  <img class="image" src="<%= image.urls.regular%>" alt="background image">
    <form method='get' action='analyze'>
      <input type='hidden' name='url' value="<%= image.urls.regular%>"  id='this-thing'>
      <input type="submit" value="Select">
    </form>
</div>

<a href="<%= window.reload(true) %>">Refresh Image!</a>


<aside>

  <h2>Search Save Images</h2>
  <% image.forEach((image)=> { %>
<div class='searchBox'>
    <h3>Search By:</h3>
      <p><%= image.classifiers%></p>
      <p><%= image.class%></p>
      <p><%= image.faces%></p>
      <p><%= image.age%></p>
      <p><%= image.gender%></p>
      <p><%= image.identity%></p>
      <p><%= image.type_hierarchy%></p>
</div>

  <% }) %>

<form action="/saved" method="get">
    <input type="text" name="incident_zip" placeholder="Classifiers">
    <input type="text" name="street_name" placeholder="Class">
    <input type="text" name="incident_zip" placeholder="Faces">
    <input type="text" name="street_name" placeholder="Age">
    <input type="text" name="incident_zip" placeholder="Gender">
    <input type="text" name="street_name" placeholder="Identity">
    <input type="text" name="incident_zip" placeholder="Hierarchy">
    <input type="submit" value="Search">
</form>
</aside>
</div>

// addToDatabase
// router.get('/analyze', pictureThis, (req, res) => {
//   res.render('index', {
//     watsonResponse: res.watsonRes
//   })
// })


// router.post('/upload', upload.single('upl'), function(req,res){
//   console.log(req.body); //form fields
//   /* example output:
//   { title: 'abc' }
//    */
//   console.log(req.file); //form files
//   /* example output:
//             { fieldname: 'upl',
//               originalname: 'grumpy.png',
//               encoding: '7bit',
//               mimetype: 'image/png',
//               destination: './uploads/',
//               filename: '436ec561793aa4dc475a88e84776b1b9',
//               path: 'uploads/436ec561793aa4dc475a88e84776b1b9',
//               size: 277056 }
//    */
//   // res.status(204).end();
//   res.render('user', {
//     url: 'uploads/' + req.file.filename,
//   });
// });

// // Acquired from codementor.io.

// router.post('/upload', upload.single('upl'), function(req,res){
//   console.log(req.body); //form fields
//   /* example output:
//   { title: 'abc' }
//    */
//   console.log(req.file); //form files
//   /* example output:
//             { fieldname: 'upl',
//               originalname: 'grumpy.png',
//               encoding: '7bit',
//               mimetype: 'image/png',
//               destination: './uploads/',
//               filename: '436ec561793aa4dc475a88e84776b1b9',
//               path: 'uploads/436ec561793aa4dc475a88e84776b1b9',
//               size: 277056 }
//    */
//   // res.status(204).end();
//   res.send('done');
// });
